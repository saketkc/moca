language: python

env:
  - TOXENV=py27
  - TOXENV=py26
  - TOXENV=pypy

#TODO change to conda setup
install: 
    - sudo apt-get install libblas-dev liblapack-dev libatlas-base-dev gfortran
    - pip install -U tox && pip install -r requirements.txt

# command to run tests, e.g. python setup.py test
script: tox

deploy:
  provider: pypi
  distributions: sdist bdist_wheel
  user: saketkc
  password:
    secure: PLEASE_REPLACE_ME
  on:
    tags: true
    repo: saketkc/moca
    condition: $TOXENV == py27
